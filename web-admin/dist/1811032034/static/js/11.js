webpackJsonp([11],{"5O03":function(t,n,i){var e=i("J2rG");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("rjj0")("3bf4410e",e,!0)},J2rG:function(t,n,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n",""])},rbik:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e={data:function(){return{visible:!1,dynamicTags:[],inputVisible:!1,inputValue:"",addArray:[],deleteArray:[],tagId:""}},methods:{init:function(t){var n=this;this.visible=!0,this.tagId=t,this.addArray=[],this.deleteArray=[],this.$nextTick(function(){n.dynamicTags=[],n.$http({url:n.$http.adornUrl("/post/tag/queryTopic/"+t),method:"get",params:n.$http.adornParams()}).then(function(t){var i=t.data;i&&0===i.code&&(n.dynamicTags=i.topicList)})})},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1),t.id?this.deleteArray.push(t.id):this.addArray.splice(this.addArray.indexOf(t),1),console.log("增加数组的元素",this.addArray),console.log("减少数组的元素",this.deleteArray)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(n){t.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var t=this.inputValue;if(t){var n={topicName:t};this.dynamicTags.push(n),this.addArray.push(t),console.log(this.dynamicTags)}this.inputVisible=!1,this.inputValue=""},dataFormSubmit:function(){var t=this;this.$http({url:this.$http.adornUrl("/post/tag/saveTopic"),method:"post",data:this.$http.adornData({tagId:this.tagId||void 0,addArray:this.addArray,deleteArray:this.deleteArray})}).then(function(n){var i=n.data;i&&0===i.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(i.msg)})}}},a={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(n){t.visible=n}}},[t._l(t.dynamicTags,function(n){return i("el-tag",{key:n,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){t.handleClose(n)}}},[t._v("\n      "+t._s(n.topicName)+"\n    ")])}),t._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key))return null;t.handleInputConfirm(n)}},model:{value:t.inputValue,callback:function(n){t.inputValue=n},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ 新话题")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(n){t.visible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(n){t.dataFormSubmit()}}},[t._v("确定")])],1)],2)},staticRenderFns:[]};var s=i("VU/8")(e,a,!1,function(t){i("5O03")},null,null);n.default=s.exports}});